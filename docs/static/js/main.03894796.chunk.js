(this["webpackJsonpcorona-dashboard"]=this["webpackJsonpcorona-dashboard"]||[]).push([[0],{142:function(e,t,a){e.exports=a(251)},147:function(e,t,a){},220:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),c=(a(147),a(17)),s=a(18),l=a(20),h=a(19),u=a(21),d=a(116),p=a.n(d),m=a(256),f=a(259),v=m.a.Option,y=f.a.Footer,E=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement(m.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.props.onChange},this.props.countries.map((function(e){return r.a.createElement(v,{key:e.name},e.name)}))))}}]),t}(n.Component),D=a(253),g=(a(220),a(255)),b=a(56),C=a(257),O=f.a.Header,w=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"info",value:function(){g.a.info({title:"Info",content:r.a.createElement("div",null,r.a.createElement("p",null,"Page that aims to help people to analyze data about covid-19."),r.a.createElement("p",null,"All information comes from the ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",target:"blank"},"  2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository."))),onOk:function(){}})}},{key:"render",value:function(){return r.a.createElement(O,{className:"header"},r.a.createElement("div",{className:"header-title"},"Covid-19 Charts"),r.a.createElement(b.a,{type:"default",shape:"circle",onClick:this.info},r.a.createElement(C.a,null)))}}]),t}(n.Component),j=a(67),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerHistory");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight-10)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"parseData",value:function(e){var t=e.map((function(e){return Object.keys(e.confirmed.history).map((function(t){return{country:e.name,date:new Date(t),cases:e.confirmed.history[t]}}))}));return[].concat.apply([],t)}},{key:"parseDate",value:function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"componentDidUpdate",value:function(){var e=this,t=this.parseData(this.props.data);this.chart.changeData(t),this.chart.line().position("date*cases").color("country").shape("smooth"),this.chart.point().position("date*cases").color("country").shape("circle"),this.chart.tooltip({showTitle:!1}),this.chart.axis("date",{label:{formatter:function(t){var a=new Date(Number(t));return e.parseDate(a)}}}),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerHistory");this.chart=new j.Chart({container:e,height:e.offsetHeight-10,padding:50,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({date:{range:[0,1]},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.line().position("date*cases").color("country").shape("smooth"),this.chart.point().position("date*cases").color("country").shape("circle"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerHistory",className:"container"})}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerEvolution");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight-10)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){var t=this,a=e.map((function(e){var a=Object.keys(e.confirmed.history).filter((function(t){return e.confirmed.history[t]>0}));a.sort((function(e,t){return e=new Date(e),t=new Date(t),e.getTime()-t.getTime()}));var n=new Date(a[0]);return a.map((function(a,r){return 0===r?{country:e.name,time:0,cases:e.confirmed.history[a]}:{country:e.name,time:t.daysBetweenDates(n,new Date(a)),cases:e.confirmed.history[a]}}))}));return[].concat.apply([],a)}},{key:"parseDate",value:function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.tooltip({showTitle:!1}),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerEvolution");this.chart=new j.Chart({container:e,height:e.offsetHeight-10,padding:50,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({time:{sync:!0,min:0},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerEvolution",className:"container"})}}]),t}(n.Component),z=a(254),N=a(51),T=a(24),I=a(258),B=f.a.Content,H=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(B,null,r.a.createElement("div",{className:"mainContent"},r.a.createElement("div",{className:"statsContainer"},r.a.createElement(z.a,{title:"Global Stats"},r.a.createElement(N.a,{style:{margin:0}},r.a.createElement(T.a,{span:8},r.a.createElement(I.a,{title:"Confirmed",value:this.props.totalData.confirmed})),r.a.createElement(T.a,{span:8},r.a.createElement(I.a,{title:"Deaths",value:this.props.totalData.deaths})),r.a.createElement(T.a,{span:8},r.a.createElement(I.a,{title:"Recovered",value:this.props.totalData.recovered}))))),r.a.createElement("div",{className:"chartsContainer"},r.a.createElement(z.a,null,r.a.createElement(k,{data:this.props.selectedData})),r.a.createElement(z.a,null,r.a.createElement(S,{data:this.props.selectedData})))))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},selectedData:[],totalData:{},loaded:!1},a.onCountriesSelected=function(e){a.setState({selectedData:e.map((function(e){return a.state.data[e]}))})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getTotalData",value:function(e){return{confirmed:e.confirmed.latest,deaths:e.deaths.latest,recovered:e.recovered.latest}}},{key:"parseData",value:function(e){var t={};function a(e,a){e.locations.forEach((function(e){t[e.country]||(t[e.country]={name:e.country,coordinates:e.coordinates,confirmed:{provinces:{},cases:0,history:{}},deaths:{provinces:{},cases:0,history:{}},recovered:{provinces:{},cases:0,history:{}}});var n,r,o=t[e.country][a];o.cases+=e.latest,o.history=(n=o.history,r=e.history,Object.keys(r).forEach((function(e){return n[e]=(n[e]||0)+r[e]})),n),""!==e.province&&(o.provinces[e.province]={name:e.province,cases:e.latest,history:e.history})}))}return a(e.confirmed,"confirmed"),a(e.deaths,"deaths"),a(e.recovered,"recovered"),t}},{key:"componentDidMount",value:function(){var e=this;p.a.all().then((function(t){e.setState({data:e.parseData(t),totalData:e.getTotalData(t),loaded:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.loaded?r.a.createElement(f.a,{className:"App"},r.a.createElement(w,null),r.a.createElement(H,{selectedData:this.state.selectedData,totalData:this.state.totalData}),r.a.createElement(E,{countries:Object.values(this.state.data),onChange:this.onCountriesSelected})):r.a.createElement(D.a,{className:"spinner-container"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[142,1,2]]]);
//# sourceMappingURL=main.03894796.chunk.js.map