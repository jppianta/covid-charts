(this["webpackJsonpcorona-dashboard"]=this["webpackJsonpcorona-dashboard"]||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/Covid-19-Charts.807e241c.png"},162:function(e,t,a){e.exports=a(289)},167:function(e,t,a){},168:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),i=a.n(s),o=(a(167),a(13)),c=a(14),l=a(17),h=a(16),u=a(18),d=a(291),m=(a(168),a(294)),f=a(35),p=a(295),v=a(129),y=a.n(v),C=d.a.Header,g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"info",value:function(){m.a.info({title:"Info",content:r.a.createElement("div",null,r.a.createElement("p",null,"Page that aims to help people to analyze data about covid-19."),r.a.createElement("p",null,"All information comes from the ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",target:"blank"},"  2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository."))),onOk:function(){}})}},{key:"render",value:function(){return r.a.createElement(C,{className:"header"},r.a.createElement("div",{className:"headerContainer"},r.a.createElement("div",{className:"logoContainer"},r.a.createElement("img",{className:"header-title",src:y.a,alt:"Covid Logo"})),r.a.createElement(f.a,{type:"default",shape:"circle",onClick:this.info},r.a.createElement(p.a,null))))}}]),t}(n.Component),b=a(157),E=a(40),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerHistory");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"parseData",value:function(e){var t=e.map((function(e){return Object.keys(e.confirmed.history).map((function(t){return{country:e.name,date:new Date(t),cases:e.confirmed.history[t]}}))}));return[].concat.apply([],t)}},{key:"parseDate",value:function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("date*cases").color("country").shape("smooth"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.updateChartSize);var t=document.getElementById("containerHistory");this.chart=new E.Chart({container:t,height:t.offsetHeight>=400?t.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({date:{range:[0,1]},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("date",{alias:"Date (mm/dd/yyyy)"}),this.chart.axis("date",{label:{formatter:function(t){var a=new Date(Number(t));return e.parseDate(a)}},title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerHistory",className:"container"})}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerEvolution");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){var t=this,a=e.map((function(e){var a=Object.keys(e.confirmed.history).filter((function(t){return e.confirmed.history[t]>0}));a.sort((function(e,t){return e=new Date(e),t=new Date(t),e.getTime()-t.getTime()}));var n=new Date(a[0]);return a.map((function(a,r){return 0===r?{country:e.name,time:0,cases:e.confirmed.history[a]}:{country:e.name,time:t.daysBetweenDates(n,new Date(a)),cases:e.confirmed.history[a]}}))}));return[].concat.apply([],a)}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerEvolution");this.chart=new E.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({time:{sync:!0,min:0},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("time",{alias:"Days since the first case"}),this.chart.axis("time",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerEvolution",className:"container"})}}]),t}(n.Component),D=a(67),O=a(293),j=a(104),S=a.n(j),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerBarCases");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){return e.map((function(e){return{name:e.name,confirmed:e.confirmed.cases,deaths:e.deaths.cases,recovered:e.recovered.cases}}))}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data),t=(new S.a).createView().source(e);t.transform({type:"fold",fields:["confirmed","deaths","recovered"],key:"country",value:"cases",retains:["name"]}),this.chart.changeData(t.rows),this.chart.interval().adjust("stack").position("name*cases").color("country"),this.chart.tooltip({shared:!0,showMarkers:!1}),this.chart.interaction("active-region"),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerBarCases"),t=(new S.a).createView().source(this.parseData(this.props.data));t.transform({type:"fold",fields:["confirmed","deaths","recovered"],key:"country",value:"cases",retains:["name"]}),this.chart=new E.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.coordinate().transpose(),this.chart.data(t.rows),this.chart.scale("cases",{nice:!0}),this.chart.axis("name",{label:{offset:12}}),this.chart.tooltip({shared:!0,showMarkers:!1}),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerBarCases",className:"container"})}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerLogEvolution");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){var t=this,a=e.map((function(e){var a=Object.keys(e.confirmed.history).filter((function(t){return e.confirmed.history[t]>0}));a.sort((function(e,t){return e=new Date(e),t=new Date(t),e.getTime()-t.getTime()}));var n=new Date(a[0]);return a.map((function(a,r){return 0===r?{country:e.name,time:0,cases:Math.log(e.confirmed.history[a])}:{country:e.name,time:t.daysBetweenDates(n,new Date(a)),cases:Math.log(e.confirmed.history[a])}}))}));return[].concat.apply([],a)}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Log Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerLogEvolution");this.chart=new E.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1});var t=this.parseData(this.props.data);this.chart.data(t),this.chart.scale({time:{sync:!0,min:0},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("time",{alias:"Days since the first case"}),this.chart.axis("time",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Log Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerLogEvolution",className:"container"})}}]),t}(n.Component),T=a(78),B=a.n(T),H=a(138),L=a(139),x=a.n(L),I=new(function(){function e(){Object(o.a)(this,e),this.data={},this.listeners=[]}return Object(c.a)(e,[{key:"addListener",value:function(e){this.listeners.push(e),Object.values(this.data).length>0&&e(this.data)}},{key:"pullData",value:function(){var e=Object(H.a)(B.a.mark((function e(){var t,a=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.all();case 2:t=e.sent,this.data.byCountry=this.parseDataByCountry(t),this.data.total=this.getTotalData(t),this.listeners.forEach((function(e){return e(a.data)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseDataByCountry",value:function(e){var t={};function a(e,a){e.locations.forEach((function(e){t[e.country]||(t[e.country]={name:e.country,coordinates:e.coordinates,confirmed:{provinces:{},cases:0,history:{}},deaths:{provinces:{},cases:0,history:{}},recovered:{provinces:{},cases:0,history:{}}});var n,r,s=t[e.country][a];s.cases+=e.latest,s.history=(n=s.history,r=e.history,Object.keys(r).forEach((function(e){return n[e]=(n[e]||0)+r[e]})),n),""!==e.province&&(s.provinces[e.province]={name:e.province,cases:e.latest,history:e.history})}))}return a(e.confirmed,"confirmed"),a(e.deaths,"deaths"),a(e.recovered,"recovered"),t}},{key:"getTotalData",value:function(e){return{confirmed:{cases:e.confirmed.latest,updated:e.confirmed.last_updated},deaths:{cases:e.deaths.latest,updated:e.deaths.last_updated},recovered:{cases:e.recovered.latest,updated:e.recovered.last_updated}}}}]),e}()),M=D.a.Option,U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).updateCharts=function(e){var t=Object.values(e.byCountry);t.sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0})),a.setState({countryNames:t,data:e.byCountry,selectedCountries:["Spain","Italy"]})},a.onCountriesSelected=function(e){a.setState({selectedCountries:e})},a.state={data:{},countryNames:[],selectedCountries:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){I.addListener(this.updateCharts)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chartsContent"},r.a.createElement("div",{className:"countriesSelector"},r.a.createElement("span",null,"Select the Countries you wish to see data: "),r.a.createElement(D.a,{mode:"multiple",style:{flex:1},placeholder:"Countries",defaultValue:["Spain","Italy"],onChange:this.onCountriesSelected},this.state.countryNames.map((function(e){return r.a.createElement(M,{key:e.name},e.name)})))),r.a.createElement("div",{className:"chartsContainer"},r.a.createElement(O.a,{title:"History",size:"small"},r.a.createElement(w,{data:this.state.selectedCountries.map((function(t){return e.state.data[t]}))})),r.a.createElement(O.a,{title:"Evolution",size:"small"},r.a.createElement(k,{data:this.state.selectedCountries.map((function(t){return e.state.data[t]}))})),r.a.createElement(O.a,{title:"Cases Bar",size:"small"},r.a.createElement(z,{data:this.state.selectedCountries.map((function(t){return e.state.data[t]}))})),r.a.createElement(O.a,{title:"Logarithmic Evolution",size:"small"},r.a.createElement(N,{data:this.state.selectedCountries.map((function(t){return e.state.data[t]}))}))))}}]),t}(n.Component),W=a(296),A=a(292),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).updateStats=function(e){var t=Object.values(e.byCountry).map((function(e){return{name:e.name,confirmed:e.confirmed.cases,deaths:e.deaths.cases,recovered:e.recovered.cases}}));a.setState({data:{byCountry:t,total:e.total}})},a.tableColumns=[{title:"Name",dataIndex:"name",key:"name"},{title:"Confirmed Cases",dataIndex:"confirmed",key:"confirmed",sorter:function(e,t){return e.confirmed-t.confirmed}},{title:"Death Cases",dataIndex:"deaths",key:"deaths",sorter:function(e,t){return e.deaths-t.deaths}},{title:"Recovered Cases",dataIndex:"recovered",key:"recovered",sorter:function(e,t){return e.recovered-t.recovered}}],a.state={data:{byCountry:[],total:{confirmed:{},deaths:{},recovered:{}}}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){I.addListener(this.updateStats)}},{key:"getTop6",value:function(e){return e.sort((function(e,t){return t.confirmed-e.confirmed})),e.slice(0,6)}},{key:"parseDate",value:function(e){return e=new Date(e),"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear()," ").concat(this.parseTime(e))}},{key:"parseTime",value:function(e){function t(e){return 1===(e=String(e)).length?"0"+e:e}return"".concat(t(e.getHours()),":").concat(t(e.getMinutes()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"statsContent"},r.a.createElement(O.a,{size:"small",title:"Global Stats"},r.a.createElement("div",{className:"statsContainer"},r.a.createElement(W.a,{title:"Confirmed",value:this.state.data.total.confirmed.cases}),r.a.createElement(W.a,{title:"Deaths",value:this.state.data.total.deaths.cases}),r.a.createElement(W.a,{title:"Recovered",value:this.state.data.total.recovered.cases}),r.a.createElement(W.a,{className:"updateTime",title:"Last Updated",value:this.parseDate(this.state.data.total.confirmed.updated)}))),r.a.createElement("div",{className:"countriesRow"},r.a.createElement(O.a,{className:"countriesTableContainer",size:"small",title:"Cases by Country"},r.a.createElement(A.a,{className:"countriesTable",dataSource:this.state.data.byCountry,columns:this.tableColumns,pagination:!1,size:"middle"})),r.a.createElement(O.a,{size:"small",title:"Countries with most Confirmed Cases"},r.a.createElement("div",{className:"topCountries"},this.getTop6(this.state.data.byCountry).map((function(e){return r.a.createElement(W.a,{key:e.name,title:e.name,value:e.confirmed})}))))))}}]),t}(n.Component),R=d.a.Footer,F=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(R,{className:"footer"},"Made By Joao Pedro Pianta")}}]),t}(n.Component),J=d.a.Content,P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).setLoaded=function(){a.setState({loaded:!0})},a.state={loaded:!1},I.addListener(a.setLoaded),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(J,{className:"mainContainer"},this.state.loaded?r.a.createElement("div",{className:"mainContent"},r.a.createElement(V,null),r.a.createElement(U,null),r.a.createElement(F,null)):r.a.createElement(b.a,{style:{position:"absolute",top:"50%"}}))}}]),t}(n.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){I.pullData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{className:"App"},r.a.createElement(g,null),r.a.createElement(P,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.22410eb9.chunk.js.map