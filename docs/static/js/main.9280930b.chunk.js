(this["webpackJsonpcorona-dashboard"]=this["webpackJsonpcorona-dashboard"]||[]).push([[0],{140:function(e,t,a){e.exports=a(249)},145:function(e,t,a){},218:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),o=(a(145),a(13)),c=a(14),h=a(16),l=a(15),u=a(17),d=a(114),m=a.n(d),p=a(254),f=a(257),v=p.a.Option,y=f.a.Footer,g=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.countries.sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0})),r.a.createElement(y,null,r.a.createElement(p.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.props.onChange},this.props.countries.map((function(e){return r.a.createElement(v,{key:e.name},e.name)}))))}}]),t}(n.Component),D=a(251),E=(a(218),a(253)),w=a(55),b=a(255),C=f.a.Header,k=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"info",value:function(){E.a.info({title:"Info",content:r.a.createElement("div",null,r.a.createElement("p",null,"Page that aims to help people to analyze data about covid-19."),r.a.createElement("p",null,"All information comes from the ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",target:"blank"},"  2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository."))),onOk:function(){}})}},{key:"render",value:function(){return r.a.createElement(C,{className:"header"},r.a.createElement("div",{className:"header-title"},"Covid-19 Charts"),r.a.createElement(w.a,{type:"default",shape:"circle",onClick:this.info},r.a.createElement(b.a,null)))}}]),t}(n.Component),O=a(31),j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerHistory");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"parseData",value:function(e){var t=e.map((function(e){return Object.keys(e.confirmed.history).map((function(t){return{country:e.name,date:new Date(t),cases:e.confirmed.history[t]}}))}));return[].concat.apply([],t)}},{key:"parseDate",value:function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("date*cases").color("country").shape("smooth"),this.chart.point().position("date*cases").color("country").shape("circle"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.updateChartSize);var t=document.getElementById("containerHistory");this.chart=new O.Chart({container:t,height:t.offsetHeight>=400?t.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({date:{range:[0,1]},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("date",{alias:"Date (mm/dd/yyyy)"}),this.chart.axis("date",{label:{formatter:function(t){var a=new Date(Number(t));return e.parseDate(a)}},title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.line().position("date*cases").color("country").shape("smooth"),this.chart.point().position("date*cases").color("country").shape("circle"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerHistory",className:"container"})}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerEvolution");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){var t=this,a=e.map((function(e){var a=Object.keys(e.confirmed.history).filter((function(t){return e.confirmed.history[t]>0}));a.sort((function(e,t){return e=new Date(e),t=new Date(t),e.getTime()-t.getTime()}));var n=new Date(a[0]);return a.map((function(a,r){return 0===r?{country:e.name,time:0,cases:e.confirmed.history[a]}:{country:e.name,time:t.daysBetweenDates(n,new Date(a)),cases:e.confirmed.history[a]}}))}));return[].concat.apply([],a)}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerEvolution");this.chart=new O.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1}),this.chart.data(this.parseData(this.props.data)),this.chart.scale({time:{sync:!0,min:0},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("time",{alias:"Days since the first case"}),this.chart.axis("time",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerEvolution",className:"container"})}}]),t}(n.Component),S=a(252),B=a(256),H=a(90),N=a.n(H),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerBarCases");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){return e.map((function(e){return{name:e.name,confirmed:e.confirmed.cases,deaths:e.deaths.cases,recovered:e.recovered.cases}}))}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data),t=(new N.a).createView().source(e);t.transform({type:"fold",fields:["confirmed","deaths","recovered"],key:"country",value:"cases",retains:["name"]}),this.chart.changeData(t.rows),this.chart.interval().adjust("stack").position("name*cases").color("country"),this.chart.tooltip({shared:!0,showMarkers:!1}),this.chart.interaction("active-region"),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerBarCases"),t=(new N.a).createView().source(this.parseData(this.props.data));t.transform({type:"fold",fields:["confirmed","deaths","recovered"],key:"country",value:"cases",retains:["name"]}),this.chart=new O.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.coordinate().transpose(),this.chart.data(t.rows),this.chart.scale("cases",{nice:!0}),this.chart.axis("name",{label:{offset:12}}),this.chart.tooltip({shared:!0,showMarkers:!1}),this.chart.interval().adjust("stack").position("name*cases").color("country"),this.chart.interaction("active-region"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerBarCases",className:"container"})}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).updateChartSize=function(){var e=document.getElementById("containerLogEvolution");a.chart.changeSize(e.offsetWidth-10,e.offsetHeight>=400?e.offsetHeight-10:400)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateChartSize)}},{key:"daysBetweenDates",value:function(e,t){return(t.getTime()-e.getTime())/864e5}},{key:"parseData",value:function(e){var t=this,a=e.map((function(e){var a=Object.keys(e.confirmed.history).filter((function(t){return e.confirmed.history[t]>0}));a.sort((function(e,t){return e=new Date(e),t=new Date(t),e.getTime()-t.getTime()}));var n=new Date(a[0]);return a.map((function(a,r){return 0===r?{country:e.name,time:0,cases:Math.log(e.confirmed.history[a])}:{country:e.name,time:t.daysBetweenDates(n,new Date(a)),cases:Math.log(e.confirmed.history[a])}}))}));return[].concat.apply([],a)}},{key:"componentDidUpdate",value:function(){var e=this.parseData(this.props.data);this.chart.changeData(e),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.tooltip({showTitle:!1});var t=0;e.forEach((function(e){t=e.cases>t?e.cases:t})),this.chart.scale("cases",{alias:"Number of cases",max:t+.2*t}),this.chart.render(),this.updateChartSize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateChartSize);var e=document.getElementById("containerLogEvolution");this.chart=new O.Chart({container:e,height:e.offsetHeight>=400?e.offsetHeight-10:400,renderer:"svg"}),this.chart.tooltip({showTitle:!1});var t=this.parseData(this.props.data);this.chart.data(t),this.chart.scale({time:{sync:!0,min:0},cases:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.scale("time",{alias:"Days since the first case"}),this.chart.axis("time",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.scale("cases",{alias:"Number of cases"}),this.chart.axis("cases",{title:{offset:20,style:{fill:"#aaa"}}}),this.chart.line().position("time*cases").color("country").shape("smooth"),this.chart.point().position("time*cases").color("country").shape("circle"),this.chart.render(),this.updateChartSize()}},{key:"render",value:function(){return r.a.createElement("div",{id:"containerLogEvolution",className:"container"})}}]),t}(n.Component),L=f.a.Content,x=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getTop4",value:function(e){return(e=Object.values(e)).sort((function(e,t){return t.confirmed.cases-e.confirmed.cases})),e.slice(0,4)}},{key:"parseDate",value:function(e){return e=new Date(e),"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"render",value:function(){var e=this.getTop4(this.props.data);return r.a.createElement(L,{className:"mainContainer"},r.a.createElement("div",{className:"mainContent"},r.a.createElement(S.a,{size:"small",title:"Global Stats"},r.a.createElement("div",{className:"statsContainer"},r.a.createElement(B.a,{title:"Confirmed",value:this.props.totalData.confirmed.cases}),r.a.createElement(B.a,{title:"Deaths",value:this.props.totalData.deaths.cases}),r.a.createElement(B.a,{title:"Recovered",value:this.props.totalData.recovered.cases}),r.a.createElement(B.a,{title:"Updated",value:this.parseDate(this.props.totalData.confirmed.updated)}))),r.a.createElement(S.a,{size:"small",title:"Top Countries"},r.a.createElement("div",{className:"statsContainer"},e.map((function(e){return r.a.createElement(B.a,{key:e.name,title:e.name,value:e.confirmed.cases})})))),r.a.createElement(S.a,{title:"History",size:"small"},r.a.createElement(j,{data:this.props.selectedData})),r.a.createElement(S.a,{title:"Evolution",size:"small"},r.a.createElement(z,{data:this.props.selectedData})),r.a.createElement(S.a,{title:"Cases Bar",size:"small"},r.a.createElement(T,{data:this.props.selectedData})),r.a.createElement(S.a,{title:"Logarithmic Evolution",size:"small"},r.a.createElement(I,{data:this.props.selectedData}))))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},selectedData:[],totalData:{},loaded:!1},a.onCountriesSelected=function(e){a.setState({selectedData:e.map((function(e){return a.state.data[e]}))})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getTotalData",value:function(e){return{confirmed:{cases:e.confirmed.latest,updated:e.confirmed.last_updated},deaths:{cases:e.deaths.latest,updated:e.deaths.last_updated},recovered:{cases:e.recovered.latest,updated:e.recovered.last_updated}}}},{key:"parseDataByCountry",value:function(e){var t={};function a(e,a){e.locations.forEach((function(e){t[e.country]||(t[e.country]={name:e.country,coordinates:e.coordinates,confirmed:{provinces:{},cases:0,history:{}},deaths:{provinces:{},cases:0,history:{}},recovered:{provinces:{},cases:0,history:{}}});var n,r,s=t[e.country][a];s.cases+=e.latest,s.history=(n=s.history,r=e.history,Object.keys(r).forEach((function(e){return n[e]=(n[e]||0)+r[e]})),n),""!==e.province&&(s.provinces[e.province]={name:e.province,cases:e.latest,history:e.history})}))}return a(e.confirmed,"confirmed"),a(e.deaths,"deaths"),a(e.recovered,"recovered"),t}},{key:"componentDidMount",value:function(){var e=this;m.a.all().then((function(t){e.setState({data:e.parseDataByCountry(t),totalData:e.getTotalData(t),loaded:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.loaded?r.a.createElement(f.a,{className:"App"},r.a.createElement(k,null),r.a.createElement(x,{data:this.state.data,selectedData:this.state.selectedData,totalData:this.state.totalData}),r.a.createElement(g,{countries:Object.values(this.state.data),onChange:this.onCountriesSelected})):r.a.createElement(D.a,{className:"spinner-container"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.9280930b.chunk.js.map